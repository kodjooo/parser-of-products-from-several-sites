site:
  # Уникальный идентификатор сайта (используется в state/логах)
  name: "winediscovery-1"
  # Домен, который пойдёт в колонку source_site и будет именем вкладки в Google Sheets
  domain: "winediscovery.ru"
  # Базовый URL для нормализации относительных ссылок
  base_url: "winediscovery.ru"
  # Движок обхода: http — requests + парсинг, browser — Playwright (для сайтов с js/инфинит-скроллом)
  engine: "browser"  # допустимые значения: http | browser

selectors:
  # CSS-селектор, который указывает на ссылку товара на странице категории
  product_link_selector: "div.products-grid div.products-grid__item a.snippet__up"
  # Ограничение доменов, которые разрешено сохранять (оставьте пустым, если не нужно фильтровать)
  allowed_domains: ["winediscovery.ru"]
  # Селектор основного изображения на странице товара
  main_image_selector: "div.product__content-img picture.product__img source[media='(min-width: 1024px)']"
  # Блоки, после которых не нужно сохранять текст товара целиком (обрезаются вместе с ними)
  content_drop_after:
    - "footer.page__footer"
  # Дополнительные поля карточки
  name_en_selector: "div.product__header h1.product__name"
  name_ru_selector: "div.product__titles div.product__titles-name"
  price_without_discount_selector: ""
  price_with_discount_selector: "div.product__buy-box-money div.product__buy-box-price"
  category_labels:
    katalog/vino: "вино"
    katalog/shampanskoe_i_igristoe: "игристое"
    katalog/krepkie_napitki: "крепкие напитки"
    katalog/aksessuary: "аксессуары"
    katalog/olivkovoe_maslo: "оливковое масло"

pagination:
  # Тип пагинации:
  #   numbered_pages — ?page=2, ?page=3 ...
  #   next_button — кнопка «Далее»/«Показать ещё»
  #   infinite_scroll — бесконечная прокрутка
  mode: "numbered_pages"
  # Название параметра страницы для numbered_pages (если используется другой параметр)
  param_name: "PAGEN_1"
  # Жёсткий лимит страниц (если неизвестно, укажите примерное число)
  max_pages: 1200
  # Для next_button можно дополнительно указать селектор кнопки:
  next_button_selector: "a.ui-pagination__page.ui-pagination__page_next"

limits:
  # Максимум товаров, который можно собрать для категории (null — без ограничения)
  max_products: null
  # Ограничение по скроллам для infinite_scroll (игнорируется для numbered_pages/next_button)
  max_scrolls: 200

wait_conditions:
  # Условие ожидания: type=selector — ждём появления элемента; type=delay — просто ждём N секунд
  - type: "selector"
    value: "div.ui-pagination.catalog__pagination"
    timeout_sec: 15

stop_conditions:
  # Пример: если исчезает блок пагинации, останавливаемся
  - type: "missing_selector"
    value: "a.ui-pagination__page.ui-pagination__page_next"

category_urls:
  # Список категорий, которые нужно обойти (для каждой будет своя вкладка source_category)
  - "https://winediscovery.ru/katalog/vino/"
  - "https://winediscovery.ru/katalog/shampanskoe_i_igristoe/"
  - "https://winediscovery.ru/katalog/krepkie_napitki/"
  - "https://winediscovery.ru/katalog/aksessuary/"
  - "https://winediscovery.ru/katalog/olivkovoe_maslo/"