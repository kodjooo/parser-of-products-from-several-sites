ЦЕЛЬ
Нужно доработать существующий Playwright-парсер: поверх текущей логики обхода ссылок добавить слой «человеческого» поведения (прокрутка, редкие дополнительные переходы, естественные паузы), при этом не ломая основную бизнес-логику сбора данных и соблюдая ограничения сайта.

1. ОБЩАЯ ЛОГИКА
1) Сохранить текущий алгоритм: список целевых URL (карточки товаров, категории) остаётся главным источником правды — все эти ссылки по-прежнему должны быть посещены и распарсены.
2) Новый функционал — дополнительный «поведенческий слой», который вставляет перед/после основных действий (page.goto, парсинг контента) имитацию действий пользователя: прокрутку, движение мыши, случайные дополнительные переходы.

2. ЗАДЕРЖКИ И ТАЙМИНГИ
1) Между запросами и действиями вводятся случайные паузы в заданных диапазонах.
2) Все диапазоны задержек, количество действий и лимиты задаются через конфиг (JSON/YAML/env).

3. ПРОКРУТКА СТРАНИЦ
1) После загрузки целевой страницы агент в X% случаев выполняет вертикальную прокрутку.
2) Прокрутка — в несколько шагов вниз (иногда вверх), шаги случайные, с паузами.
3) Глубина прокрутки задаётся диапазоном в процентах.
4) В Y% случаев скролл пропускается для непредсказуемости поведения.

4. ДВИЖЕНИЯ МЫШИ И ВЗАИМОДЕЙСТВИЯ
1) Агент делает 1–3 плавных перемещения курсора на странице с «человеческой» скоростью.
2) Иногда наводит курсор на элементы (hover) без клика. Селекторы задаются в конфиге.
3) Частота и количество действий управляются через конфиг.

5. ДОПОЛНИТЕЛЬНЫЕ ПЕРЕХОДЫ
1) В части случаев после карточки агент возвращается на предыдущую страницу (back или крошка).
2) Иногда открывает 1–2 дополнительные карточки из той же категории (помечаются как «дополнительные» в логах).
3) В редких случаях агент идёт на главную или корневую категорию перед следующим целевым URL.
4) В конфиге задаётся максимальное число дополнительных переходов на одну основную карточку.

6. СЕССИИ, ЗАГОЛОВКИ, ПРОКСИ
1) Для каждой прокси — отдельный Playwright-context, куки должны сохраняться.
2) User-Agent, Accept-Language и стартовые cookies берутся из конфига.
3) Не изменять логику выбора прокси, просто оборачивать действия поведенческим слоем.

7. ЛОГИРОВАНИЕ
1) Логировать:
   – URL,
   – прокси/контекст,
   – выполненные дополнительные действия (scroll, back, extra_product и т.п.),
   – время на странице.
2) Ошибки логировать с привязкой к этим данным.

8. ТЕСТИРОВАНИЕ
1) Добавить флаг режима отладки: сохранять подробные логи.
2) Проверить:
   – все целевые URL обходятся,
   – дополнительные действия не ломают селекторы,
   – задержки корректно управляются через конфиг.