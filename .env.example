# OAuth клиент Google: файл JSON выдаёт администратор Google Cloud, хранится в смонтированном каталоге /secrets
GOOGLE_OAUTH_CLIENT_SECRET_PATH=/secrets/google-credentials.json
# Путь к refresh-токену создаётся автоматически после ручной авторизации, каталог должен быть доступен на запись (volume)
GOOGLE_OAUTH_TOKEN_PATH=/var/app/state/token.json
# Список OAuth-скоупов берём в Google Cloud Console (минимум spreadsheets)
GOOGLE_OAUTH_SCOPES=https://www.googleapis.com/auth/spreadsheets
# Email пользователя, от имени которого нужно работать (только для сервисного аккаунта с делегированием), оставить пустым если не требуется
GOOGLE_OAUTH_IMPERSONATED_USER=

# Google Sheets (обязательные параметры)
SHEET_SPREADSHEET_ID=PASTE_SPREADSHEET_ID
SHEET_WRITE_BATCH_SIZE=200
SHEET_STATE_TAB=_state
SHEET_RUNS_TAB=_runs

# Уровень логирования CLI (DEBUG/INFO/WARNING/ERROR/CRITICAL)
LOG_LEVEL=INFO

# Runtime-лимиты
RUNTIME_MAX_CONCURRENCY_PER_SITE=2
RUNTIME_STOP_AFTER_PRODUCTS=
RUNTIME_STOP_AFTER_MINUTES=
# Задержки между страницами категорий (секунды, можно указывать дробные значения)
RUNTIME_PAGE_DELAY_MIN_SEC=5
RUNTIME_PAGE_DELAY_MAX_SEC=9
# Задержки между загрузками карточек товаров
RUNTIME_PRODUCT_DELAY_MIN_SEC=8
RUNTIME_PRODUCT_DELAY_MAX_SEC=12
# Движок загрузки карточек: http (по умолчанию) или browser (Playwright)
PRODUCT_FETCH_ENGINE=http
# Через сколько товаров выгружать буфер в Google Sheets (минимум 1, по умолчанию сразу после каждой записи)
WRITE_FLUSH_PRODUCT_INTERVAL=1
# (необязательно) поддержка старого имени переменной
WRITE_FLUSH_PAGE_INTERVAL=

# Сетевые настройки
NETWORK_USER_AGENTS=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36
NETWORK_PROXY_POOL=
NETWORK_REQUEST_TIMEOUT_SEC=30
NETWORK_RETRY_MAX_ATTEMPTS=3
NETWORK_RETRY_BACKOFF_SEC=2,5,10
# Разрешать ли прямые подключения без прокси (true/false)
NETWORK_PROXY_ALLOW_DIRECT=false
# Файл storage_state (Playwright JSON с cookies), если нужно имитировать существующую сессию
NETWORK_BROWSER_STORAGE_STATE_PATH=
# Визуальный режим браузера (true — без UI, false — показывать окно Chromium)
NETWORK_BROWSER_HEADLESS=true
# Замедление операций Playwright (slow_mo в мс) для отладки (0 — без замедления)
NETWORK_BROWSER_SLOW_MO_MS=0
# Пауза перед началом поведенческих действий (секунды), чтобы успеть переключиться в окно
NETWORK_BROWSER_PREVIEW_BEFORE_BEHAVIOR_SEC=0
# Сколько секунд держать дополнительные вкладки (которые открывает поведенческий слой) перед закрытием
NETWORK_BROWSER_EXTRA_PAGE_PREVIEW_SEC=0
# Задержка (в секундах) перед закрытием вкладки для визуального предпросмотра (0 — нет паузы)
NETWORK_BROWSER_PREVIEW_DELAY_SEC=0
# Локаль/Accept-Language браузерных контекстов (оставьте пустым, чтобы использовать значение по умолчанию)
NETWORK_ACCEPT_LANGUAGE=

# Поведенческий слой (имитация живого пользователя)
# Основные переключатели
BEHAVIOR_ENABLED=false
BEHAVIOR_DEBUG=false
# Паузы между действиями (секунды)
BEHAVIOR_ACTION_DELAY_MIN_SEC=0.3
BEHAVIOR_ACTION_DELAY_MAX_SEC=0.9
# Скролл
BEHAVIOR_SCROLL_PROBABILITY=0.7
BEHAVIOR_SCROLL_SKIP_PROBABILITY=0.2
BEHAVIOR_SCROLL_MIN_DEPTH=25
BEHAVIOR_SCROLL_MAX_DEPTH=85
BEHAVIOR_SCROLL_MIN_STEPS=2
BEHAVIOR_SCROLL_MAX_STEPS=4
BEHAVIOR_SCROLL_STEP_DELAY_MIN_SEC=0.2
BEHAVIOR_SCROLL_STEP_DELAY_MAX_SEC=0.6
# Движения мыши и hover
BEHAVIOR_MOUSE_MOVE_MIN=1
BEHAVIOR_MOUSE_MOVE_MAX=3
BEHAVIOR_MOUSE_HOVER_PROBABILITY=0.35
# Дополнительная навигация
BEHAVIOR_NAV_BACK_PROBABILITY=0.25
BEHAVIOR_NAV_EXTRA_PRODUCTS_PROBABILITY=0.3
BEHAVIOR_NAV_EXTRA_PRODUCTS_LIMIT=2
BEHAVIOR_NAV_VISIT_ROOT_PROBABILITY=0.15
BEHAVIOR_NAV_MAX_CHAIN=2

# Нормализация ссылок
DEDUPE_STRIP_PARAMS_BLACKLIST=utm_*,gclid,yclid,fbclid

# Параметры state
STATE_DRIVER=sqlite
STATE_DATABASE_PATH=/var/app/state/runtime.db

# Каталог сохранения изображений товаров (volume монтируем к этому пути)
PRODUCT_IMAGE_DIR=/app/assets/images

# Опциональный путь к YAML-конфигу (если нужно загрузить не из env)
GLOBAL_CONFIG_PATH=

# Каталог конфигураций сайтов, который монтируем в контейнер
SITE_CONFIG_DIR=/app/config/sites
