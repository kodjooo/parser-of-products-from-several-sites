site:
  # Уникальный идентификатор сайта (используется в state/логах)
  name: "winestyle-7"
  # Домен, который пойдёт в колонку source_site и будет именем вкладки в Google Sheets
  domain: "winestyle.ru"
  # Базовый URL для нормализации относительных ссылок
  base_url: "https://winestyle.ru"
  # Движок обхода: http — requests + парсинг, browser — Playwright (для сайтов с js/инфинит-скроллом)
  engine: "browser"  # допустимые значения: http | browser

selectors:
  # CSS-селектор, который указывает на ссылку товара на странице категории
  product_link_selector: "div.ws-products div.m-catalog-item--list a.m-catalog-item__image"
  # Ограничение доменов, которые разрешено сохранять (оставьте пустым, если не нужно фильтровать)
  allowed_domains: ["winestyle.ru"]
  # Селектор основного изображения на странице товара
  main_image_selector: "div.carousel img[data-nuxt-img]"
  # Блоки, после которых не нужно сохранять текст товара целиком (обрезаются вместе с ними)
  content_drop_after:
    - "section.product-page__reviews"
  # Дополнительные поля карточки
  name_en_selector: "div.o-productpage-info h1.heading"
  name_ru_selector: "div.o-productpage-details div:first-child p"
  price_without_discount_selector: "div.m-productpage-price p:last-child"
  price_with_discount_selector:
    - "p.price.price--lg"
    - "div.m-productpage-price p:first-child"
  category_labels:
    wine/all: "вино"
    champagnes-and-sparkling/all: "игристое"
    # krepkie-napitki: "крепкие напитки"
    # Liquor: "ликёры"
  hover_targets:
    - "div.ws-products div.m-catalog-item--list a.m-catalog-item__image"
  product_hover_targets:
    - "div.m-productpage-price button.button"
    - "div.o-productpage-details__characteristics div.underline"


pagination:
  # Тип пагинации:
  #   numbered_pages — ?page=2, ?page=3 ...
  #   next_button — кнопка «Далее»/«Показать ещё»
  #   infinite_scroll — бесконечная прокрутка
  mode: "numbered_pages"
  # Название параметра страницы для numbered_pages (если используется другой параметр)
  param_name: "page"
  # Жёсткий лимит страниц (если неизвестно, укажите примерное число)
  max_pages: 1500
  # Для next_button можно дополнительно указать селектор кнопки:
  next_button_selector: "button.ws-pagination__btn-more"

limits:
  # Максимум товаров, который можно собрать для категории (null — без ограничения)
  max_products: null
  # Ограничение по скроллам для infinite_scroll (игнорируется для numbered_pages/next_button)
  max_scrolls: 1500

wait_conditions:
  # Условие ожидания: type=selector — ждём появления элемента; type=delay — просто ждём N секунд
  - type: "selector"
    value: "div.ws-pagination__pages"
    timeout_sec: 15

stop_conditions:
  # Пример: если исчезает блок пагинации, останавливаемся
  - type: "missing_selector"
    value: "button.ws-pagination__btn-more"

category_urls:
  # Список категорий, которые нужно обойти (для каждой будет своя вкладка source_category)
  - "https://winestyle.ru/wine/all/"
  - "https://winestyle.ru/champagnes-and-sparkling/all/"
